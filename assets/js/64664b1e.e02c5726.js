"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[3654],{9379:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>t,default:()=>a,frontMatter:()=>c,metadata:()=>o,toc:()=>l});var r=n(5893),s=n(1151);const c={},t="Cisco Switch CLI",o={id:"Networks/Cisco/CheatSheetCiscoSwitch",title:"Cisco Switch CLI",description:"S\xe9curisation Switch",source:"@site/docs/Networks/Cisco/CheatSheetCiscoSwitch.md",sourceDirName:"Networks/Cisco",slug:"/Networks/Cisco/CheatSheetCiscoSwitch",permalink:"/Portfolio/docs/Networks/Cisco/CheatSheetCiscoSwitch",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Cisco Router CLI",permalink:"/Portfolio/docs/Networks/Cisco/CheatSheetCiscoRouter"},next:{title:"Listes de Commandes",permalink:"/Portfolio/docs/Systems/Linux/ListesDeCommandes"}},d={},l=[{value:"S\xe9curisation Switch",id:"s\xe9curisation-switch",level:3},{value:"Chiffrer les mots de passes",id:"chiffrer-les-mots-de-passes",level:4},{value:"Cr\xe9er utilisateur avec mots de passe",id:"cr\xe9er-utilisateur-avec-mots-de-passe",level:4},{value:"Configurer un password pour le enable",id:"configurer-un-password-pour-le-enable",level:4},{value:"SSH",id:"ssh",level:3},{value:"Active SSH",id:"active-ssh",level:4},{value:"Configure SSH",id:"configure-ssh",level:4},{value:"Banni\xe8re",id:"banni\xe8re",level:4},{value:"Ajout Compte",id:"ajout-compte",level:4},{value:"SSH de A \xe0 Z",id:"ssh-de-a-\xe0-z",level:4},{value:"Interdire le Telnet",id:"interdire-le-telnet",level:3},{value:"VTP",id:"vtp",level:3},{value:"Active VTP Server",id:"active-vtp-server",level:4},{value:"Active VTP Client",id:"active-vtp-client",level:4},{value:"DTP",id:"dtp",level:3},{value:"Switch A",id:"switch-a",level:4},{value:"Switch B",id:"switch-b",level:4},{value:"Port Security",id:"port-security",level:3},{value:"Activez le Port Security",id:"activez-le-port-security",level:4},{value:"Configurer les Adresses MAC",id:"configurer-les-adresses-mac",level:4},{value:"Maximum Adresse",id:"maximum-adresse",level:5},{value:"Sticky Address",id:"sticky-address",level:5},{value:"MAC Autoris\xe9es",id:"mac-autoris\xe9es",level:5},{value:"Mode de Violation",id:"mode-de-violation",level:4},{value:"Spanning Tree",id:"spanning-tree",level:3},{value:"Activez le Spanning Tree",id:"activez-le-spanning-tree",level:4},{value:"Choix du Protocol du Spanning Tree",id:"choix-du-protocol-du-spanning-tree",level:3},{value:"DHCP Snooping",id:"dhcp-snooping",level:3},{value:"Activez le DHCP Snooping",id:"activez-le-dhcp-snooping",level:4},{value:"Autoriser l&#39;interface o\xf9 est le DHCP + Limite de Trames par Secondes",id:"autoriser-linterface-o\xf9-est-le-dhcp--limite-de-trames-par-secondes",level:4}];function h(e){const i={code:"code",h1:"h1",h3:"h3",h4:"h4",h5:"h5",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.h1,{id:"cisco-switch-cli",children:"Cisco Switch CLI"}),"\n",(0,r.jsx)(i.h3,{id:"s\xe9curisation-switch",children:"S\xe9curisation Switch"}),"\n",(0,r.jsx)(i.h4,{id:"chiffrer-les-mots-de-passes",children:"Chiffrer les mots de passes"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"switch(config)# service password-encryption\n"})}),"\n",(0,r.jsx)(i.h4,{id:"cr\xe9er-utilisateur-avec-mots-de-passe",children:"Cr\xe9er utilisateur avec mots de passe"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"switch>en\r\nswitch#conf t\r\nswitch(config)#username etudiant password Btssio2017\r\nswitch(config)#username admin privilege 15 secret Rootsio2017\n"})}),"\n",(0,r.jsx)(i.h4,{id:"configurer-un-password-pour-le-enable",children:"Configurer un password pour le enable"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"switch(config)#enable password Rootsio2017\n"})}),"\n",(0,r.jsx)(i.h3,{id:"ssh",children:"SSH"}),"\n",(0,r.jsx)(i.h4,{id:"active-ssh",children:"Active SSH"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"ip ssh version 2\n"})}),"\n",(0,r.jsx)(i.h4,{id:"configure-ssh",children:"Configure SSH"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"clem(config)#ip ssh logging events  \r\nclem(config)#ip ssh time-out 60  \r\nclem(config)#ip ssh authentication-retries 3\n"})}),"\n",(0,r.jsx)(i.h4,{id:"banni\xe8re",children:"Banni\xe8re"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"switch>en\r\nswitch#conf t\r\nswitch(config)#banner motd !ACCES RESERVE !\n"})}),"\n",(0,r.jsx)(i.h4,{id:"ajout-compte",children:"Ajout Compte"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Switch(config)#aaa new-model\r\nSwitch(config)#aaa authentication login default local\n"})}),"\n",(0,r.jsx)(i.h4,{id:"ssh-de-a-\xe0-z",children:"SSH de A \xe0 Z"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Dans un premier temps, il est n\xe9cessaire de configurer un domaine pour le commutateur :\r\nSwitch(config)#ip domain-name bts-sio.local\r\nEnsuite, pour utiliser le chiffrement, il faut cr\xe9er une cl\xe9 RSA :\r\nSwitch(config)#crypto key generate rsa general-keys modulus 1024\r\nPuis il faut activer l\u2019acc\xe8s en SSH.\r\nSwitch(config)#ip ssh version 2\n"})}),"\n",(0,r.jsx)(i.h3,{id:"interdire-le-telnet",children:"Interdire le Telnet"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Switch(config)#ip access-list extended SSH_ACCESS\r\nSwitch(config)#permit tcp 172.17.1.2 255.255.255.255 any eq 22\n"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Switch(config)#line vty 0 2\r\nSwitch(config-line)#access-class SSH_ACCESS in\r\nSwitch(config-line)#login local\r\nSwitch(config-line)#transport input ssh\r\nSwitch(config-line)#transport output ssh\r\nSwitch(config)#line vty 3 15\r\nSwitch(config-line)#transport input none\n"})}),"\n",(0,r.jsx)(i.h3,{id:"vtp",children:"VTP"}),"\n",(0,r.jsx)(i.h4,{id:"active-vtp-server",children:"Active VTP Server"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"en\r\nconf t\r\nVTP version 2\r\nVTP mode server\r\nvtp domain domVTP\r\nvtp password mdpvtp\n"})}),"\n",(0,r.jsx)(i.h4,{id:"active-vtp-client",children:"Active VTP Client"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"en\r\nconf t\r\nVTP version 2\r\nVTP mode client\r\nvtp domain domVTP\r\nvtp password mdpvtp\n"})}),"\n",(0,r.jsx)(i.h3,{id:"dtp",children:"DTP"}),"\n",(0,r.jsx)(i.h4,{id:"switch-a",children:"Switch A"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Switch_A(config)# interface fastethernet 0/1 \r\nSwitch_A(config-if)# shutdown \r\nSwitch_A(config-if)#\xa0switchport mode dynamic\xa0desirable\r\nSwitch_A(config-if)# no shutdown\n"})}),"\n",(0,r.jsx)(i.h4,{id:"switch-b",children:"Switch B"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"Switch_B(config)# interface fastethernet 0/1 \r\nSwitch_B(config-if)# shutdown\r\nSwitch_B(config-if)#\xa0switchport mode dynamic\xa0auto\xa0\r\nSwitch_B(config-if)# no shutdown\n"})}),"\n",(0,r.jsx)(i.h3,{id:"port-security",children:"Port Security"}),"\n",(0,r.jsx)(i.h4,{id:"activez-le-port-security",children:"Activez le Port Security"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"(config)#interface G0/1\r\n(config-if)#switchport mode access\r\n(config-if)#switchport port-security\n"})}),"\n",(0,r.jsx)(i.h4,{id:"configurer-les-adresses-mac",children:"Configurer les Adresses MAC"}),"\n",(0,r.jsx)(i.h5,{id:"maximum-adresse",children:"Maximum Adresse"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"(config-if)#switchport port-security maximum 10\n"})}),"\n",(0,r.jsx)(i.h5,{id:"sticky-address",children:"Sticky Address"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"(config-if)#switchport port-security mac-address sticky\n"})}),"\n",(0,r.jsx)(i.h5,{id:"mac-autoris\xe9es",children:"MAC Autoris\xe9es"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"(config-if)#switchport port-security mac-address 0000.0000.0003\n"})}),"\n",(0,r.jsx)(i.h4,{id:"mode-de-violation",children:"Mode de Violation"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"(config-if)#switchport port-security violation {protect | restrict | shutdown}\n"})}),"\n",(0,r.jsx)(i.h3,{id:"spanning-tree",children:"Spanning Tree"}),"\n",(0,r.jsx)(i.h4,{id:"activez-le-spanning-tree",children:"Activez le Spanning Tree"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"CBS350(config)#spanning-tree\n"})}),"\n",(0,r.jsx)(i.h3,{id:"choix-du-protocol-du-spanning-tree",children:"Choix du Protocol du Spanning Tree"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"CBS350(config)#spanning-tree mode [stp|rstp|mst]\n"})}),"\n",(0,r.jsx)(i.h3,{id:"dhcp-snooping",children:"DHCP Snooping"}),"\n",(0,r.jsx)(i.h4,{id:"activez-le-dhcp-snooping",children:"Activez le DHCP Snooping"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:" switch(config)#ip dhcp snooping\r\n switch(config)#ip dhcp snooping vlan 1-10\n"})}),"\n",(0,r.jsx)(i.h4,{id:"autoriser-linterface-o\xf9-est-le-dhcp--limite-de-trames-par-secondes",children:"Autoriser l'interface o\xf9 est le DHCP + Limite de Trames par Secondes"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:" switch(config)#int gigabitEthernet 0/1\r\n switch(config-if)#ip dhcp snooping trust\r\n switch(config-if)#ip dhcp snooping limit rate 100\n"})})]})}function a(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},1151:(e,i,n)=>{n.d(i,{Z:()=>o,a:()=>t});var r=n(7294);const s={},c=r.createContext(s);function t(e){const i=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(c.Provider,{value:i},e.children)}}}]);